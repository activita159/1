<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        table , tr , td , th{
            border: 1px solid black;
        }
    </style>
</head>
<body>
    <div>
        name<input type="text" id="name"><br>
        age<input type="text" id="age"><br>
        gender<input type="text" id="gender"><br>
        <button id="subBtn">submit</button>
        <button id="searchBtn">search</button>
    </div>
    <table id="table-box">
        <thead>
            <tr>
                <th>name</th>
                <th>age</th>
                <th>gender</th>
                <th>action</th>
            </tr>
            
        </thead>
        <tbody>
            
        </tbody>
    </table>


    <script>
        var nameData = document.querySelector("#name");
        var ageData = document.querySelector("#age");
        var genderData = document.querySelector("#gender");
        var subBtn = document.querySelector("#subBtn");
        var searchBtn = document.querySelector("#searchBtn");
        var table = document.querySelector("#table-box");
        var arr = [];
        var tbody = document.querySelector('tbody');

       

        subBtn.addEventListener("click", function () {
            arr.push({"name":nameData.value, "age":ageData.value, "gender":genderData.value});            
            gogo();           
        })
        function gogo() {
            tbody.innerHTML = "";
            arr.forEach(function (data,index) {
                tbody.innerHTML+=
                    `<tr>
                        <td>${data["name"]}</td>
                        <td>${data["age"]}</td>
                        <td>${data["gender"]}</td>
                        <td><button class="delete" data-index="${index}">delete</button></td>
                    </tr>` ;                              
            }) 
            go();         
        }       
        function go() {
            var deleteBtns = document.querySelectorAll('.delete');
            deleteBtns.forEach(function (deleteBtn) {
                // console.log(deleteBtn);
                deleteBtn.addEventListener("click",function () {                    
                    var index = this.getAttribute("data-index");
                    arr.splice(index,1);
                    gogo(); 
                })
            })
        }

        searchBtn.addEventListener("click",function () {
            console.log(arr);
        })

        

    </script>
</body>
</html>